# Azure Virtual Desktop Landing Zone Configuration
# This file contains configuration values that can override the defaults in main.tf

# Basic configuration
prefix: "company-avd"
location: "East US"
resource_group_name: "company-avd-rg"

# Network configuration
vnet_address_space: 
  - "10.80.0.0/16"
subnet_address_prefixes:
  - "10.80.1.0/24"

# Host Pool configuration
host_pool_name: "company-avd-hostpool"
host_pool_type: "Pooled"  # Pooled or Personal
host_pool_load_balancer_type: "BreadthFirst"  # BreadthFirst, DepthFirst, Persistent
host_pool_max_sessions: 10

# Workspace and Application Group
workspace_name: "company-avd-workspace"
application_group_name: "company-avd-appgroup"

# Session Host VMs
vm_count: 2
vm_size: "Standard_D4s_v3"  # 4 vCPU, 16GB RAM - good for multi-user
admin_username: "avdadmin"
admin_password: "TempPassword123!"  # Change this! Use Key Vault in production

# Domain configuration (optional - leave null for Azure AD joined)
domain_name: "contoso.com"  # Set to null for Azure AD join only
domain_user: "domainadmin"
domain_password: "DomainPassword123!"  # Change this!
ou_path: "OU=AVD,OU=Computers,DC=contoso,DC=com"  # Optional OU path

# VM Image configuration
vm_image:
  publisher: "MicrosoftWindowsDesktop"
  offer: "Windows-11"
  sku: "win11-22h2-avd"  # or "win10-22h2-avd", "win11-21h2-avd"
  version: "latest"

# Storage configuration
create_fslogix_storage: true
storage_sku: "Standard_LRS"  # Standard_LRS, Premium_LRS

# Monitoring and Backup
log_analytics_workspace_name: "company-avd-law"
recovery_vault_name: "company-avd-vault"

# Deployment Notes:
# 1. This creates a greenfield AVD environment with:
#    - Virtual network and subnet
#    - Host pool (pooled desktop)
#    - Application group and workspace
#    - Session host VMs
#    - FSLogix storage (Premium Files)
#    - Log Analytics workspace
#    - Recovery Services vault
#    - Network security group with AVD rules
#
# 2. For domain-joined deployment:
#    - Set domain_name, domain_user, and domain_password
#    - Ensure domain controllers are accessible from AVD subnet
#    - Optionally set ou_path for computer objects
#
# 3. For Azure AD joined deployment:
#    - Set domain_name to null
#    - Users will authenticate with Azure AD credentials
#
# 4. After deployment:
#    - Assign users to the application group
#    - Configure FSLogix policies if using profile storage
#    - Set up monitoring and alerts
#    - Configure backup policies
#
# 5. User Access:
#    - Web client: https://rdweb.wvd.microsoft.com/arm/webclient
#    - Windows client: Download from Microsoft Store
#    - Mobile clients: Available for iOS/Android
#
# 6. Common VM sizes:
#    - Standard_D2s_v3: 2 vCPU, 8GB RAM (light workloads)
#    - Standard_D4s_v3: 4 vCPU, 16GB RAM (recommended)
#    - Standard_D8s_v3: 8 vCPU, 32GB RAM (heavy workloads)
#    - Standard_NV6: GPU enabled for graphics workloads